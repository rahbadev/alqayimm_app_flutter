# نظام الملاحظات المطور

## المميزات الجديدة

تم تطوير نظام الملاحظات في التطبيق ليشمل الميزات التالية:

1. **العلامات المرجعية (Bookmarks)**: تتيح للمستخدمين وضع علامات على مواضع محددة في الدروس أو الكتب مع إضافة وصف.
2. **الملاحظات العامة (Notes)**: تتيح للمستخدمين تدوين ملاحظات عامة أو فوائد مع إمكانية تنظيمها باستخدام الوسوم (Tags).
3. **المفضلة (Favorites)**: للعناصر المفضلة لدى المستخدم.

## كيفية استخدام النظام الجديد

### العلامات المرجعية
- يمكن الوصول إليها عبر شاشة "العلامات المرجعية" من القائمة الرئيسية
- تتيح البحث والفلترة حسب نوع العنصر (درس/كتاب)
- تسمح بإضافة وتعديل وحذف العلامات المرجعية

### الملاحظات العامة
- يمكن الوصول إليها عبر شاشة "الملاحظات" من القائمة الرئيسية
- تتيح البحث والفلترة حسب الوسوم
- تسمح بإضافة وتعديل وحذف الملاحظات العامة

## ترحيل البيانات القديمة

عند أول تشغيل للتطبيق بعد التحديث، سيتم ترحيل الملاحظات القديمة تلقائيًا إلى النظام الجديد كالتالي:
- الملاحظات المرتبطة بسياق معين (درس أو كتاب) ستصبح علامات مرجعية
- الملاحظات العامة ستبقى كملاحظات عامة مع الاحتفاظ بجميع محتوياتها

## ملاحظات تقنية للمطورين

1. تم إنشاء جداول جديدة في قاعدة البيانات:
   - `bookmarks`: لتخزين العلامات المرجعية
   - `notes`: لتخزين الملاحظات العامة

2. تم تطوير نماذج بيانات جديدة:
   - `BookmarkModel`: لتمثيل العلامات المرجعية
   - `NoteModel`: لتمثيل الملاحظات العامة

3. تم إنشاء مستودعات بيانات جديدة:
   - `BookmarksRepository`: للتعامل مع العلامات المرجعية
   - `NotesRepository`: للتعامل مع الملاحظات العامة

4. تم تطوير شاشات عرض جديدة:
   - `BookmarksScreen`: لعرض وإدارة العلامات المرجعية
   - `NotesScreen`: لعرض وإدارة الملاحظات العامة

5. تم تطوير خدمة الترحيل `DataMigrationService` لضمان عدم فقدان بيانات المستخدمين عند الانتقال للنظام الجديد.
